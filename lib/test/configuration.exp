Test: server configuration
Items:
  db, occ.: optional, max = 1; params: min params = 1, max params = 1
  trash, occ.: optional, max = 1; params: min params = 1, max params = 1
  filter, occ.: optional, no max; params: min params = 2, max params = 2
    condition, occ.: min = 1, no max; params: min params = 2, max params = 2
  client, occ.: min = 1, no max; params: min params = 2, max params = 2
    hostname, occ.: optional, max = 1; params: min params = 1, max params = 1
    option, occ.: optional, no max; params: min params = 1, max params = 2
    config, occ.: min = 1, max = 1; params: min params = 1, max params = 1
    expire, occ.: optional, max = 1; params: min params = 1, max params = 1
Lines:
 1:  db test_db
 2:  trash 1
 4:  filter all backup
 5:    condition type file
 6:    condition path_end ~
 8:  filter any test_or
 9:    condition filter backup
10:    condition !size< 1000
12:  client nfs myClient
13:    hostname myClient
14:    config /home/User/hbackup.list
16:  client ssh other
17:    hostname otherClient
18:    config /home/backup/Backup.list
20:  client file myhost
21:    hostname myhost.mynetwork.lan
22:    config etc/localhost.list
23:    expire 1
25:  client smb client
26:    option username Myself
27:    option password flesyM
28:    option nocase
29:    hostname myClient
30:    config C:\Backup\Backup.LST

Test: client configuration
Items:
  expire, occ.: optional, max = 1; params: min params = 1, max params = 1
  filter, occ.: optional, no max; params: min params = 2, max params = 2
    condition, occ.: min = 1, no max; params: min params = 2, max params = 2
  path, occ.: min = 1, no max; params: min params = 1, max params = 1
    parser, occ.: optional, no max; params: min params = 1, max params = 2
    filter, occ.: optional, no max; params: min params = 2, max params = 2
      condition, occ.: min = 1, no max; params: min params = 2, max params = 2
    ignore, occ.: optional, max = 1; params: min params = 1, max params = 1
    compress, occ.: optional, max = 1; params: min params = 1, max params = 1
Lines:
 2:  filter and subdir
 3:    condition path_start subdir
 4:    condition !size< 100
 6:  filter and bigfile
 7:    condition size>= 10
 8:    condition type file
10:  expire 1
12:  path test2//
14:  path test1
16:    filter and not_object
17:      condition !path_end .o
19:    filter or to_be_ignored
20:      condition filter subdir
21:      condition filter backup
22:      condition !filter not_object
24:    ignore to_be_ignored
26:    compress bigfile
28:    parser cvs controlled
29:    parser svn modified
30:    parser bzr modified
Test: general configuration
Items:
  db, occ.: optional, max = 1; params: min params = 1, max params = 1
  trash, occ.: optional, max = 1; params: min params = 1, max params = 1
  filter, occ.: optional, no max; params: min params = 2, max params = 2
    condition, occ.: min = 1, no max; params: min params = 2, max params = 2
  client, occ.: min = 1, no max; params: min params = 2, max params = 2
    hostname, occ.: optional, max = 1; params: min params = 1, max params = 1
    option, occ.: optional, no max; params: min params = 1, max params = 2
    config, occ.: min = 1, max = 1; params: min params = 1, max params = 1
    expire, occ.: optional, max = 1; params: min params = 1, max params = 1
    filter, occ.: optional, no max; params: min params = 2, max params = 2
      condition, occ.: min = 1, no max; params: min params = 2, max params = 2
    path, occ.: min = 1, no max; params: min params = 1, max params = 1
      parser, occ.: optional, no max; params: min params = 1, max params = 2
      filter, occ.: optional, no max; params: min params = 2, max params = 2
        condition, occ.: min = 1, no max; params: min params = 2, max params = 2
      ignore, occ.: optional, max = 1; params: min params = 1, max params = 1
      compress, occ.: optional, max = 1; params: min params = 1, max params = 1
Lines:
 1:  db test_db
 2:  trash 1
 4:  filter all backup
 5:    condition type file
 6:    condition path_end ~
 8:  filter any test_or
 9:    condition filter backup
10:    condition !size< 1000
12:  client nfs myClient
13:    hostname myClient
14:    config /home/User/hbackup.list
16:  client ssh other
17:    hostname otherClient
18:    config /home/backup/Backup.list
20:    filter and subdir
21:      condition path_start subdir
22:      condition !size< 100
24:    filter and bigfile
25:      condition size>= 10
26:      condition type file
28:    expire 1
30:    path test2//
32:    path test1
34:      filter and not_object
35:        condition !path_end .o
37:      filter or to_be_ignored
38:        condition filter subdir
39:        condition filter backup
40:        condition !filter not_object
42:      ignore to_be_ignored
44:      compress bigfile
46:      parser cvs controlled
47:      parser svn modified
48:      parser bzr modified
50:  client file myhost
51:    hostname myhost.mynetwork.lan
52:    config etc/localhost.list
53:    expire 1
55:  client smb client
56:    option username Myself
57:    option password flesyM
58:    option nocase
59:    hostname myClient
60:    config C:\Backup\Backup.LST
Test: broken configuration
line 3: too many parameters for keyword: trash (found: 2, needs: 1)
line 5: too few parameters for keyword: filter (found: 1, needs: 2)
line 23: too many parameters for keyword: filter (found: 3, needs: 2)
line 24: too many parameters for keyword: condition (found: 3, needs: 2)
line 25: too few parameters for keyword: condition (found: 1, needs: 2)
line 28: too many parameters for keyword: expire (found: 2, needs: 1)
line 44: too few parameters for keyword: filter (found: 1, needs: 2)
line 63: too many parameters for keyword: ignore (found: 2, needs: 1)
line 64: too many parameters for keyword: compress (found: 2, needs: 1)
line 74: too few parameters for keyword: ignore (found: 0, needs: 1)
line 75: too few parameters for keyword: compress (found: 0, needs: 1)
Items:
  db, occ.: optional, max = 1; params: min params = 1, max params = 1
  trash, occ.: optional, max = 1; params: min params = 1, max params = 1
  filter, occ.: optional, no max; params: min params = 2, max params = 2
    condition, occ.: min = 1, no max; params: min params = 2, max params = 2
  client, occ.: min = 1, no max; params: min params = 2, max params = 2
    hostname, occ.: optional, max = 1; params: min params = 1, max params = 1
    option, occ.: optional, no max; params: min params = 1, max params = 2
    config, occ.: min = 1, max = 1; params: min params = 1, max params = 1
    expire, occ.: optional, max = 1; params: min params = 1, max params = 1
    filter, occ.: optional, no max; params: min params = 2, max params = 2
      condition, occ.: min = 1, no max; params: min params = 2, max params = 2
    path, occ.: min = 1, no max; params: min params = 1, max params = 1
      parser, occ.: optional, no max; params: min params = 1, max params = 2
      filter, occ.: optional, no max; params: min params = 2, max params = 2
        condition, occ.: min = 1, no max; params: min params = 2, max params = 2
      ignore, occ.: optional, max = 1; params: min params = 1, max params = 1
      compress, occ.: optional, max = 1; params: min params = 1, max params = 1
Lines:
 1:  db test_db
 2:  db blah
 3:  trash 1 2
 5:  filter all
 6:    condition type file
 7:    condition path_end ~
 9:  filter any test_or
11:  client nfs myClient
13:  client ssh other
14:    hostname otherClient
15:    hostname 192.168.0.132
16:    config /home/backup/Backup.list
17:    config /home/backup/Backup2.list
19:    filter and subdir
20:      condition path_start subdir
21:      condition !size< 100
23:    filter and bigfile 3
24:      condition size>= 10 yeah
25:      condition type
27:    expire 1
28:    expire 2 3
30:    path test2//
32:    path test1
34:      filter and not_object
35:        condition !path_end .o
37:      filter or to_be_ignored
38:        condition filter subdir
39:        condition filter backup
40:        condition !filter not_object
42:      filter and blah
44:      filter or
47:      ignore to_be_ignored
48:      ignore to_be_ignored2
50:      compress bigfile
51:      compress bigfile2
53:      parser cvs controlled
54:      parser svn modified
55:      parser bzr modified
57:  client file myhost
58:    hostname myhost.mynetwork.lan
59:    config etc/localhost.list
60:    expire 1
62:    path blah
63:      ignore 2 3
64:      compress 4 5
66:  client smb client
67:    option username Myself
68:    option password flesyM
69:    option nocase
70:    hostname myClient
71:    config C:\Backup\Backup.LST
73:    path blah
74:      ignore
75:      compress
