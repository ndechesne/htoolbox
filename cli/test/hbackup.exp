Help
HBackup (c) 2006-2007 Hervé Fache
  -v,  --verbose
    Be verbose about actions

  -u,  --user
    Perform user-mode backup

  -t,  --check
    Check DB for corrupted data

  -s,  --scan
    Scan DB for missing data

  -r <directory>,  --restore <directory>
    Restore to directory

  -P <path>,  --path <path>
    Specify path

  -p,  --pretend
    Only check configuration

  -l,  --list
    List available prefixes

  -D <UNIX epoch>,  --date <UNIX epoch>
    Specify date

  -d,  --debug
    Print debug information

  -C <client>,  --client <client>  (accepted multiple times)
    Specify client name or prefix

  -c <file name>,  --config <file name>
    Specify configuration file

  --,  --ignore_rest
    Ignores the rest of the labeled arguments following this flag.

  --version
    Displays version information and exits.

  -h,  --help
    Displays usage information and exits.

Version
HBackup (c) 2006-2007 Hervé Fache version 0.5a
Error
Error: -! -- Couldn't find match for argument
HBackup (c) 2006-2007 Hervé Fache
  -v,  --verbose
    Be verbose about actions

  -u,  --user
    Perform user-mode backup

  -t,  --check
    Check DB for corrupted data

  -s,  --scan
    Scan DB for missing data

  -r <directory>,  --restore <directory>
    Restore to directory

  -P <path>,  --path <path>
    Specify path

  -p,  --pretend
    Only check configuration

  -l,  --list
    List available prefixes

  -D <UNIX epoch>,  --date <UNIX epoch>
    Specify date

  -d,  --debug
    Print debug information

  -C <client>,  --client <client>  (accepted multiple times)
    Specify client name or prefix

  -c <file name>,  --config <file name>
    Specify configuration file

  --,  --ignore_rest
    Ignores the rest of the labeled arguments following this flag.

  --version
    Displays version information and exits.

  -h,  --help
    Displays usage information and exits.

Typical backup
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Backing up
Database initialized
 -> Database open
Backup client 'myhost' using protocol 'file'
 -> Reading backup list file
 --> client-wide filter and subdir
 ---> condition path_start subdir
 ---> condition not size< 100
 --> client-wide filter and bigfile
 ---> condition size>= 10
 ---> condition type file
 --> expiry 1 day(s)
 --> Path: test2
 --> Path: test1
 --> path-wide filter and not_object
 ---> condition not path_end .o
 --> path-wide filter or to_be_ignored
 ---> condition filter subdir
 ---> condition filter backup
 ---> condition not filter not_object
Backup path 'test1'
A test1/cvs
 -> Dir cvs
A test1/cvs/CVS
 -> Dir cvs/CVS
A test1/cvs/CVS/Entries (141 B)
Adding compressed file data to DB in: test_db/data/63b52e85e7a255c09df5cca819b74a88-0
A test1/cvs/dirbad
 -> Dir cvs/dirbad
Directory should be under CVS control: test1/cvs/dirbad
A test1/cvs/dirutd
 -> Dir cvs/dirutd
A test1/cvs/dirutd/CVS
 -> Dir cvs/dirutd/CVS
A test1/cvs/dirutd/CVS/Entries (42 B)
Adding compressed file data to DB in: test_db/data/5252f242d27b8c2c9fdbdcbb33545d07-0
A test1/cvs/dirutd/fileutd (0 B)
Adding file data to DB in: test_db/data/d41d8cd98f00b204e9800998ecf8427e-0
A test1/cvs/filenew.c (0 B)
A test1/cvs/fileutd.h (0 B)
A test1/dir space
 -> Dir dir space
A test1/dir space/file space (0 B)
A test1/test space (0 B)
A test1/testdir
 -> Dir testdir
A test1/testfile (13 B)
Adding compressed file data to DB in: test_db/data/59ca0efa9f5633cb0371bbc0355478d8-0
A test1/testlink
A test1/testpipe
Backup path 'test2'
A test2/testdir
 -> Dir testdir
A test2/testfile (145 kB)
Adding file data to DB in: test_db/data/3d546a1ce46c6ae10ad34ab8a81c542e-0
A test2/testfile2 (259 kB)
Adding file data to DB in: test_db/data/fb00cd74a5f35e89a7fbdd3c1d05375a-0
A test2/testfile~ (524 kB)
Adding file data to DB in: test_db/data/59071590099d21dd439896592338bf95-0
A test2/testlink
 -> mount -t nfs -o ro,noatime,nolock myClient:/home/User test_db/mount
Backup client 'myClient' using protocol 'nfs'
 -> Reading backup list file
 --> Path: /home/User/test
Backup path '/home/User/test'
 -> umount test_db/mount
Unmounted test_db/mount
 -> mount -t nfs -o ro,noatime,nolock myClient:/home/User/test test_db/mount
A /home/User/test/File2.txt (0 B)
 -> umount test_db/mount
Unmounted test_db/mount
 -> mount -t cifs -o ro,noatime,nocase,username=Myself,password=flesyM,nocase //myClient/C$ test_db/mount
Backup client 'client' using protocol 'smb'
 -> Reading backup list file
 --> Path: C:/Test
Backup path 'C:/Test'
A C:/Test/File.TXT (0 B)
 -> umount test_db/mount
Unmounted test_db/mount
Protocol not supported: ssh
 -> Database closed
Specify clients
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Backing up
 -> Database open
Backup client 'myhost' using protocol 'file'
 -> Reading backup list file
 --> client-wide filter and subdir
 ---> condition path_start subdir
 ---> condition not size< 100
 --> client-wide filter and bigfile
 ---> condition size>= 10
 ---> condition type file
 --> expiry 1 day(s)
 --> Path: test2
 --> Path: test1
 --> path-wide filter and not_object
 ---> condition not path_end .o
 --> path-wide filter or to_be_ignored
 ---> condition filter subdir
 ---> condition filter backup
 ---> condition not filter not_object
Backup path 'test1'
 -> Dir cvs
 -> Dir cvs/CVS
 -> Dir cvs/dirbad
Directory should be under CVS control: test1/cvs/dirbad
 -> Dir cvs/dirutd
 -> Dir cvs/dirutd/CVS
 -> Dir dir space
 -> Dir testdir
Backup path 'test2'
 -> Dir testdir
 -> mount -t cifs -o ro,noatime,nocase,username=Myself,password=flesyM,nocase //myClient/C$ test_db/mount
Backup client 'client' using protocol 'smb'
 -> Reading backup list file
 --> Path: C:/Test
Backup path 'C:/Test'
 -> umount test_db/mount
Unmounted test_db/mount
 -> Journal is empty, not merging
 -> Database closed
Scan DB
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Scanning database
 -> Database open
Scanning database contents: 7 files
 -> Journal is empty, not merging
 -> Database closed
Check DB
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Checking database
 -> Database open
Scanning database contents thoroughly: 7 files
 -> Journal is empty, not merging
 -> Database closed
List prefixes
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Showing list
 -> Database open
 -> Database closed
 file://myhost
 nfs://myClient
 smb://client
Try to list paths in both file://myhost and smb://client (fails)
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Showing list
Error: maximum one client allowed
List paths in file://myhost
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Showing list
 -> Database open
 -> Database closed
 test1
 test2
List paths in file://myhost under test2/
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Showing list
 -> Database open
 -> Database closed
 test2/testdir
 test2/testfile
 test2/testfile2
 test2/testfile~
 test2/testlink
List paths in file://myhost under test1/cvs
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Showing list
 -> Database open
 -> Database closed
 test1/cvs/CVS
 test1/cvs/dirbad
 test1/cvs/dirutd
 test1/cvs/filenew.c
 test1/cvs/fileutd.h
Restore a file
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Restoring
 -> Database open
U test_r/test2/testfile
 -> Database closed
Restore all data in a prefix/dir path that's not by itself in DB
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Restoring
 -> Database open
U test_r/test1/cvs
U test_r/test1/cvs/CVS
U test_r/test1/cvs/CVS/Entries
U test_r/test1/cvs/dirbad
U test_r/test1/cvs/dirutd
U test_r/test1/cvs/dirutd/CVS
U test_r/test1/cvs/dirutd/CVS/Entries
U test_r/test1/cvs/dirutd/fileutd
U test_r/test1/cvs/filenew.c
U test_r/test1/cvs/fileutd.h
U test_r/test1/dir space
U test_r/test1/dir space/file space
U test_r/test1/test space
U test_r/test1/testdir
U test_r/test1/testfile
U test_r/test1/testlink
U test_r/test1/testpipe
 -> Database closed
Restore all data in a prefix/dir path
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Restoring
 -> Database open
U test_r/test1/cvs
U test_r/test1/cvs/CVS
U test_r/test1/cvs/CVS/Entries
U test_r/test1/cvs/dirbad
U test_r/test1/cvs/dirutd
U test_r/test1/cvs/dirutd/CVS
U test_r/test1/cvs/dirutd/CVS/Entries
U test_r/test1/cvs/dirutd/fileutd
U test_r/test1/cvs/filenew.c
U test_r/test1/cvs/fileutd.h
 -> Database closed
Restore all data in a prefix
 -> Reading configuration file
 --> global filter all backup
 ---> condition type file
 ---> condition path_end ~
 --> global filter any test_or
 ---> condition filter backup
 ---> condition not size< 1000
 --> Client: myClient
 --> Client: other
 --> Client: myhost
 --> Client: client
Restoring
 -> Database open
U test_r/test1/cvs
U test_r/test1/cvs/CVS
U test_r/test1/cvs/CVS/Entries
U test_r/test1/cvs/dirbad
U test_r/test1/cvs/dirutd
U test_r/test1/cvs/dirutd/CVS
U test_r/test1/cvs/dirutd/CVS/Entries
U test_r/test1/cvs/dirutd/fileutd
U test_r/test1/cvs/filenew.c
U test_r/test1/cvs/fileutd.h
U test_r/test1/dir space
U test_r/test1/dir space/file space
U test_r/test1/test space
U test_r/test1/testdir
U test_r/test1/testfile
U test_r/test1/testlink
U test_r/test1/testpipe
U test_r/test2/testdir
U test_r/test2/testfile
U test_r/test2/testfile2
U test_r/test2/testfile~
U test_r/test2/testlink
 -> Database closed
